{"Version":"2019-10-30","StartAction":"a8becc64-a00a-4ad7-abd3-c8ca82a55562","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"a8becc64-a00a-4ad7-abd3-c8ca82a55562":{"position":{"x":247.2,"y":60}},"18d85e98-b85f-4119-bd5a-f02ec92eb2e5":{"position":{"x":612,"y":568.8}},"f204bfd9-134f-4d20-93ec-72b196c5a4ac":{"position":{"x":600.8,"y":340}},"92419514-ab9d-4bd1-afa7-f3039ccd96ff":{"position":{"x":862.4,"y":80},"conditionMetadata":[],"countryCodePrefix":"+1"},"6b7b47ad-c8d4-4116-a364-17ad718aeb6f":{"position":{"x":1108,"y":84.8},"parameters":{"LambdaFunctionARN":{"displayName":"multi-factor-authentication"}},"dynamicMetadata":{"action":false}},"2ef029c2-3694-4708-b7b1-49d3dc38a6f8":{"position":{"x":595.2,"y":80.8}},"ab12474f-4c91-4a07-b586-ba34525077fb":{"position":{"x":1356,"y":85.6},"conditions":[],"conditionMetadata":[{"id":"e2c752d5-e868-49b1-b66b-47a07a6165f1","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"$.External.otp_code"}]},"c02f3097-ea31-4dee-a1f7-cbf54da82819":{"position":{"x":1616.8,"y":326.4}},"a3931ec6-a287-4468-967e-79bb4da63b87":{"position":{"x":2147.2,"y":166.4}},"4622399c-4937-408a-a7fa-6b3a9a84e36f":{"position":{"x":1610.4,"y":42.4}},"bf1ce143-53b5-46bc-8650-94a1099e7c39":{"position":{"x":1855.2,"y":104.8}}},"Annotations":[],"name":"0005 - MFA - Malay - Module","description":"","type":"contactFlow","status":"saved","hash":{}},"Actions":[{"Parameters":{"Media":{"Uri":"s3://alliance-bank-non-polly-prompts/prompt_bahasa_14_one_time_password_sent.wav","SourceType":"S3","MediaType":"Audio"}},"Identifier":"a8becc64-a00a-4ad7-abd3-c8ca82a55562","Type":"MessageParticipant","Transitions":{"NextAction":"2ef029c2-3694-4708-b7b1-49d3dc38a6f8","Errors":[{"NextAction":"2ef029c2-3694-4708-b7b1-49d3dc38a6f8","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"18d85e98-b85f-4119-bd5a-f02ec92eb2e5","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Media":{"Uri":"s3://alliance-bank-non-polly-prompts/prompt_bahasa_17_retries_exceeded.wav","SourceType":"S3","MediaType":"Audio"}},"Identifier":"f204bfd9-134f-4d20-93ec-72b196c5a4ac","Type":"MessageParticipant","Transitions":{"NextAction":"18d85e98-b85f-4119-bd5a-f02ec92eb2e5","Errors":[{"NextAction":"18d85e98-b85f-4119-bd5a-f02ec92eb2e5","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"5","Text":"'","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"4"}}},"Identifier":"92419514-ab9d-4bd1-afa7-f3039ccd96ff","Type":"GetParticipantInput","Transitions":{"NextAction":"6b7b47ad-c8d4-4116-a364-17ad718aeb6f","Errors":[{"NextAction":"6b7b47ad-c8d4-4116-a364-17ad718aeb6f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:ap-southeast-1:471112788437:function:multi-factor-authentication","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"action":"GetOTP"},"ResponseValidation":{"ResponseType":"JSON"}},"Identifier":"6b7b47ad-c8d4-4116-a364-17ad718aeb6f","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"ab12474f-4c91-4a07-b586-ba34525077fb","Errors":[{"NextAction":"ab12474f-4c91-4a07-b586-ba34525077fb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LoopCount":"3"},"Identifier":"2ef029c2-3694-4708-b7b1-49d3dc38a6f8","Type":"Loop","Transitions":{"NextAction":"f204bfd9-134f-4d20-93ec-72b196c5a4ac","Conditions":[{"NextAction":"92419514-ab9d-4bd1-afa7-f3039ccd96ff","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"f204bfd9-134f-4d20-93ec-72b196c5a4ac","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"ComparisonValue":"$.StoredCustomerInput"},"Identifier":"ab12474f-4c91-4a07-b586-ba34525077fb","Type":"Compare","Transitions":{"NextAction":"c02f3097-ea31-4dee-a1f7-cbf54da82819","Conditions":[{"NextAction":"4622399c-4937-408a-a7fa-6b3a9a84e36f","Condition":{"Operator":"Equals","Operands":["$.External.otp_code"]}}],"Errors":[{"NextAction":"c02f3097-ea31-4dee-a1f7-cbf54da82819","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Media":{"Uri":"s3://alliance-bank-non-polly-prompts/prompt_bahasa_16_input_not_recognised.wav","SourceType":"S3","MediaType":"Audio"}},"Identifier":"c02f3097-ea31-4dee-a1f7-cbf54da82819","Type":"MessageParticipant","Transitions":{"NextAction":"2ef029c2-3694-4708-b7b1-49d3dc38a6f8","Errors":[{"NextAction":"2ef029c2-3694-4708-b7b1-49d3dc38a6f8","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"a3931ec6-a287-4468-967e-79bb4da63b87","Type":"EndFlowExecution","Transitions":{}},{"Parameters":{"Media":{"Uri":"s3://alliance-bank-non-polly-prompts/prompt_bahasa_15_successfully_authenticated.wav","SourceType":"S3","MediaType":"Audio"}},"Identifier":"4622399c-4937-408a-a7fa-6b3a9a84e36f","Type":"MessageParticipant","Transitions":{"NextAction":"bf1ce143-53b5-46bc-8650-94a1099e7c39","Errors":[{"NextAction":"bf1ce143-53b5-46bc-8650-94a1099e7c39","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Media":{"Uri":"s3://alliance-bank-non-polly-prompts/prompt_bahasa_18_password_reset_successful.wav","SourceType":"S3","MediaType":"Audio"}},"Identifier":"bf1ce143-53b5-46bc-8650-94a1099e7c39","Type":"MessageParticipant","Transitions":{"NextAction":"a3931ec6-a287-4468-967e-79bb4da63b87","Errors":[{"NextAction":"a3931ec6-a287-4468-967e-79bb4da63b87","ErrorType":"NoMatchingError"}]}}]}